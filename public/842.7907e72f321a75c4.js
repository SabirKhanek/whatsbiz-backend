"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[842],{8842:(D,_,a)=>{a.r(_),a.d(_,{AuthModule:()=>Z});var f=a(6895),g=a(4466),l=a(9299),t=a(4650),C=a(529),d=a(4006);const v=["digit1"];function h(u,p){if(1&u&&(t.TgZ(0,"div")(1,"p",22),t._uU(2),t.qZA(),t.TgZ(3,"p",22),t._uU(4,"Please try again"),t.qZA()()),2&u){const e=t.oxw(2);t.xp6(2),t.Oqu(e.errorMessage)}}function x(u,p){if(1&u){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"p",6),t._uU(5," This action requires an additional verfication code "),t.qZA()(),t.TgZ(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10)(10,"input",11,12),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.tfaCodeDigit1=n)})("input",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.limitInputLength(n))})("keyup",function(n){t.CHM(e);const i=t.MAs(11),s=t.MAs(13),r=t.oxw();return t.KtG(r.move(n,"",i,s))}),t.qZA(),t.TgZ(12,"input",11,13),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.tfaCodeDigit2=n)})("input",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.limitInputLength(n))})("keyup",function(n){t.CHM(e);const i=t.MAs(11),s=t.MAs(13),r=t.MAs(15),c=t.oxw();return t.KtG(c.move(n,i,s,r))}),t.qZA(),t.TgZ(14,"input",11,14),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.tfaCodeDigit3=n)})("input",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.limitInputLength(n))})("keyup",function(n){t.CHM(e);const i=t.MAs(13),s=t.MAs(15),r=t.MAs(17),c=t.oxw();return t.KtG(c.move(n,i,s,r))}),t.qZA(),t.TgZ(16,"input",11,15),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.tfaCodeDigit4=n)})("input",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.limitInputLength(n))})("keyup",function(n){t.CHM(e);const i=t.MAs(15),s=t.MAs(17),r=t.MAs(19),c=t.oxw();return t.KtG(c.move(n,i,s,r))}),t.qZA(),t.TgZ(18,"input",11,16),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.tfaCodeDigit5=n)})("input",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.limitInputLength(n))})("keyup",function(n){t.CHM(e);const i=t.MAs(17),s=t.MAs(19),r=t.MAs(21),c=t.oxw();return t.KtG(c.move(n,i,s,r))}),t.qZA(),t.TgZ(20,"input",11,17),t.NdJ("ngModelChange",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.tfaCodeDigit6=n)})("input",function(n){t.CHM(e);const i=t.oxw();return t.KtG(i.limitInputLength(n))})("keyup",function(n){t.CHM(e);const i=t.MAs(19),s=t.MAs(21),r=t.oxw();return t.KtG(r.move(n,i,s,""))}),t.qZA()()(),t.YNc(22,h,5,1,"div",18),t.qZA()(),t.TgZ(23,"div",19)(24,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeTfaPopup())}),t._uU(25," Cancel "),t.qZA(),t.TgZ(26,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.verify())}),t._uU(27," Submit "),t.qZA()()()()()}if(2&u){const e=t.oxw();t.xp6(10),t.Q6J("ngModel",e.tfaCodeDigit1),t.xp6(2),t.Q6J("ngModel",e.tfaCodeDigit2),t.xp6(2),t.Q6J("ngModel",e.tfaCodeDigit3),t.xp6(2),t.Q6J("ngModel",e.tfaCodeDigit4),t.xp6(2),t.Q6J("ngModel",e.tfaCodeDigit5),t.xp6(2),t.Q6J("ngModel",e.tfaCodeDigit6),t.xp6(2),t.Q6J("ngIf",e.verificationError)}}function T(u,p){1&u&&t._UZ(0,"div",23)}let m=(()=>{class u{constructor(e,o){this.http=e,this.router=o,this.showPopup=!1,this.userVerificationCode="",this.response=!1,this.verificationError=!1,this.errorMessage="",this.verificationStatus=new t.vpe}openTfaPopup(){this.showPopup=!0,setTimeout(()=>{this.focusDigit1Input.nativeElement.focus()},0)}reset(){this.tfaCodeDigit1=NaN,this.tfaCodeDigit2=NaN,this.tfaCodeDigit3=NaN,this.tfaCodeDigit4=NaN,this.tfaCodeDigit5=NaN,this.tfaCodeDigit6=NaN}closeTfaPopup(){this.showPopup=!1,this.reset(),this.errorMessage=""}limitInputLength(e){const o=e.target.value;o.length>1&&(e.target.value=o.slice(0,1))}updateVerificationCode(){this.userVerificationCode=`${this.tfaCodeDigit1}${this.tfaCodeDigit2}${this.tfaCodeDigit3}${this.tfaCodeDigit4}${this.tfaCodeDigit5}${this.tfaCodeDigit6}`}move(e,o,n,i){let s=n.value.length;n.getAttribute("maxlength"),1==s&&""!=i&&i.focus(),"Backspace"===e.key&&""!=o&&o.focus(),this.updateVerificationCode()}verify(){this.http.post("http://localhost:3000/tfa-verification",{userVerificationCode:this.userVerificationCode},{withCredentials:!0}).subscribe(n=>{this.response=!0,this.verificationStatus.emit(this.response),this.closeTfaPopup()},n=>{this.response=!1,this.verificationStatus.emit(this.response),this.verificationError=!0,this.errorMessage=n.error.message})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(C.eN),t.Y36(l.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-tfa-popup"]],viewQuery:function(e,o){if(1&e&&t.Gf(v,5),2&e){let n;t.iGM(n=t.CRH())&&(o.focusDigit1Input=n.first)}},outputs:{verificationStatus:"verificationStatus"},decls:2,vars:2,consts:[["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",4,"ngIf"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],[1,"relative","w-auto","my-6","mx-auto","max-w-sm"],[1,"bg-gray-50","border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","outline-none","focus:outline-none"],[1,"flex","items-center","justify-between","p-5","rounded-t"],[1,"block","font-medium","text-sm","text-gray-700"],[1,"relative","p-6","flex-auto"],[1,"mb-3","pt-0"],[1,"flex","justify-center"],[1,"grid","grid-cols-6","gap-2","mt-4"],["type","number",1,"px-3","py-4","placeholder-slate-300","text-slate-600","relative","bg-white","rounded","text-base","border-0","shadow","outline-none","focus:outline-none","focus:ring","w-full",3,"ngModel","ngModelChange","input","keyup"],["digit1",""],["digit2",""],["digit3",""],["digit4",""],["digit5",""],["digit6",""],[4,"ngIf"],[1,"flex","items-center","justify-end","p-6","rounded-b"],["type","button",1,"text-black","background-transparent","font-bold","uppercase","px-6","py-2","text-sm","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],["type","button",1,"bg-blue-400","text-white","active:bg-blue-600","font-bold","uppercase","text-sm","px-3","py-3","rounded","shadow","hover:shadow-lg","outline-none",3,"click"],[1,"text-red-500"],[1,"opacity-25","fixed","inset-0","z-40","bg-black"]],template:function(e,o){1&e&&(t.YNc(0,x,28,7,"div",0),t.YNc(1,T,1,0,"div",1)),2&e&&(t.Q6J("ngIf",o.showPopup),t.xp6(1),t.Q6J("ngIf",o.showPopup))},dependencies:[f.O5,d.Fj,d.wV,d.JJ,d.On],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-webkit-appearance:textfield;appearance:textfield}"]}),u})();var M=a(6570);function y(u,p){1&u&&(t.TgZ(0,"div",10)(1,"p",11),t._uU(2,"Discount Approved"),t.qZA()())}function A(u,p){1&u&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2,"Discount Not Approved"),t.qZA()())}const b=[{path:"discount",component:(()=>{class u{constructor(e){this.router=e,this.receivedResponse=!1,this.applyStatus=!1}openTfaPopup(){this.tfaPopupComponent.openTfaPopup()}onDataReceived(e){this.receivedResponse=e,this.applyStatus=!0}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(l.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-fee-discount"]],viewQuery:function(e,o){if(1&e&&t.Gf(m,5),2&e){let n;t.iGM(n=t.CRH())&&(o.tfaPopupComponent=n.first)}},decls:16,vars:2,consts:[[1,"max-w-md","mx-auto","mt-10"],[1,"mb-4"],["for","studentId",1,"block","font-medium","text-sm","text-gray-700"],["inputLarge","","id","studentId","name","studentId","type","text"],["for","discountAmount",1,"block","font-medium","text-sm","text-gray-700"],["inputLarge","","id","discountAmount","name","discountAmount","type","number"],["class","mb-4 mr-[115px]",4,"ngIf"],[1,"flex","items-center","justify-center","mt-8","mr-[115px]"],["type","submit",1,"border","border-blue-400","border-solid","text-blue-400","font-bold","py-2","px-4","rounded",3,"click"],[3,"verificationStatus"],[1,"mb-4","mr-[115px]"],[1,"text-green-500","text-center"],[1,"text-red-500","text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"label",2),t._uU(4," Student Roll No "),t.qZA(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"div",1)(7,"label",4),t._uU(8," Fee Discount Amount "),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.YNc(10,y,3,0,"div",6),t.YNc(11,A,3,0,"div",6),t.qZA(),t.TgZ(12,"div",7)(13,"button",8),t.NdJ("click",function(){return o.openTfaPopup()}),t._uU(14," Apply "),t.qZA(),t.TgZ(15,"app-tfa-popup",9),t.NdJ("verificationStatus",function(i){return o.onDataReceived(i)}),t.qZA()()()),2&e&&(t.xp6(10),t.Q6J("ngIf",o.applyStatus&&o.receivedResponse),t.xp6(1),t.Q6J("ngIf",o.applyStatus&&!o.receivedResponse))},dependencies:[f.O5,m,M.d5]}),u})()}];let w=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[l.Bz.forChild(b),l.Bz]}),u})();var P=a(8146);let Z=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[f.ez,g.m,w,P._]}),u})()}}]);